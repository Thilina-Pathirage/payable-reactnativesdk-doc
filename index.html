<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PAYable IPG React Native SDK Documentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #e4e4e4;
            background-color: #1a1a1a;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: linear-gradient(135deg, #2d3748 0%, #4a5568 100%);
            color: #e4e4e4;
            padding: 40px 20px;
            text-align: center;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 300;
        }

        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .toc {
            background: #2d3748;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .toc h2 {
            color: #63b3ed;
            margin-bottom: 15px;
            border-bottom: 2px solid #63b3ed;
            padding-bottom: 10px;
        }

        .toc ul {
            list-style: none;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 10px;
        }

        .toc li {
            padding: 8px 0;
        }

        .toc a {
            color: #63b3ed;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }

        .toc a:hover {
            color: #90cdf4;
            text-decoration: underline;
        }

        section {
            background: #2d3748;
            padding: 30px;
            margin-bottom: 25px;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        section h2 {
            color: #63b3ed;
            margin-bottom: 20px;
            border-bottom: 2px solid #63b3ed;
            padding-bottom: 10px;
            font-size: 1.8rem;
        }

        section h3 {
            color: #e2e8f0;
            margin: 25px 0 15px 0;
            font-size: 1.4rem;
        }

        section h4 {
            color: #cbd5e0;
            margin: 20px 0 10px 0;
            font-size: 1.2rem;
        }

        p {
            margin-bottom: 15px;
            color: #a0aec0;
        }

        .code-block {
            background: #0f1419;
            border: 1px solid #2d3748;
            border-left: 4px solid #63b3ed;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            overflow-x: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
            color: #e2e8f0;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            position: relative;
        }

        .code-block::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, #63b3ed, transparent);
        }

        .code-block.sh,
        .code-block.js,
        .code-block.tsx,
        .code-block.json {
            background: #0f1419;
            color: #e2e8f0;
            border: 1px solid #2d3748;
            border-left: 4px solid #63b3ed;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        .highlight {
            background: #1a202c;
            border: 1px solid #2d3748;
            border-left: 4px solid #fbbf24;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        .api-endpoint {
            background: #1a202c;
            border: 1px solid #2d3748;
            border-left: 4px solid #3182ce;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        .endpoint-method {
            font-weight: bold;
            color: #63b3ed;
            margin-bottom: 5px;
        }

        ul, ol {
            margin: 15px 0;
            padding-left: 30px;
        }

        li {
            margin-bottom: 8px;
            color: #a0aec0;
        }

        .support-info {
            background: linear-gradient(135deg, #2d3748 0%, #4a5568 100%);
            color: #e4e4e4;
            padding: 30px;
            text-align: center;
            border-radius: 10px;
            margin-top: 30px;
        }

        .support-info h3 {
            margin-bottom: 15px;
            font-size: 1.5rem;
        }

        .support-info p {
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            header {
                padding: 30px 15px;
            }

            h1 {
                font-size: 2rem;
            }

            .subtitle {
                font-size: 1rem;
            }

            section {
                padding: 20px;
            }

            .toc ul {
                grid-template-columns: 1fr;
            }

            .code-block {
                font-size: 12px;
                padding: 15px;
                margin: 15px 0;
            }
        }

        @media (max-width: 480px) {
            h1 {
                font-size: 1.8rem;
            }

            section h2 {
                font-size: 1.5rem;
            }

            section h3 {
                font-size: 1.2rem;
            }

            .code-block {
                font-size: 11px;
                padding: 12px;
                margin: 12px 0;
            }

            .highlight,
            .api-endpoint,
            .flow-diagram {
                padding: 15px;
                margin: 15px 0;
            }
        }

        .flow-diagram {
            background: #1a202c;
            border: 1px solid #2d3748;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        .flow-diagram ol {
            counter-reset: step-counter;
        }

        .flow-diagram li {
            counter-increment: step-counter;
            margin-bottom: 10px;
            position: relative;
            padding-left: 35px;
        }

        .flow-diagram li::before {
            content: counter(step-counter);
            position: absolute;
            left: 0;
            top: 0;
            background: #63b3ed;
            color: #1a202c;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }

        .tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
            border-bottom: 2px solid #2d3748;
        }

        .tab-button {
            background: #2d3748;
            color: #a0aec0;
            border: none;
            padding: 15px 30px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            border-radius: 8px 8px 0 0;
            transition: all 0.3s ease;
            margin: 0 5px;
        }

        .tab-button:hover {
            background: #4a5568;
            color: #e2e8f0;
        }

        .tab-button.active {
            background: #63b3ed;
            color: #1a202c;
            border-bottom: 2px solid #63b3ed;
        }

        .content-section {
            display: none;
        }

        .content-section.active {
            display: block;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="tabs">
            <button class="tab-button active" onclick="showTab('react-native')">React Native SDK</button>
            <button class="tab-button" onclick="showTab('react-js')">React.js SDK</button>
        </div>

        <header id="react-native-header">
            <h1>PAYable IPG React Native SDK</h1>
            <p class="subtitle">A comprehensive React Native SDK for integrating Internet Payment Gateway (IPG) functionality into your mobile applications. This SDK supports one-time payments and recurring payments with a secure, user-friendly interface.</p>
        </header>

        <header id="react-js-header" style="display: none;">
            <h1>PAYable Tokenize Payment React.js SDK</h1>
            <p class="subtitle">PAYable Tokenize Payment React.js SDK helps to integrate tokenized payments with the payment gateway of your website.</p>
        </header>

        <div id="react-native-content" class="content-section active">
        <div class="toc">
            <h2>Table of Contents</h2>
            <ul>
                <li><a href="#installation">Installation</a></li>
                <li><a href="#getting-started">Getting Started</a></li>
                <li><a href="#configuration">Configuration</a></li>
                <li><a href="#one-time-payments">One-Time Payments</a></li>
                <li><a href="#recurring-payments">Recurring Payments</a></li>
                <li><a href="#tokenized-payments">Tokenized Payments</a></li>
                <li><a href="#api-usage">API Usage</a></li>
                <li><a href="#merchant-notifications">Merchant Notifications</a></li>
                <li><a href="#error-handling">Error Handling</a></li>
                <li><a href="#security">Security & Compliance</a></li>
                <li><a href="#testing">Testing</a></li>
                <li><a href="#api-reference">API Reference</a></li>
                <li><a href="#faqs">FAQs & Troubleshooting</a></li>
            </ul>
        </div>

        <section id="installation">
            <h2>Installation</h2>
            <div class="code-block sh">npm install ipg-reactnative-sdk</div>
        </section>

        <section id="getting-started">
            <h2>Getting Started</h2>
            <ol>
                <li>Import the SDK in your React Native application:</li>
            </ol>
            <div class="code-block js">import PayableIPG from 'ipg-reactnative-sdk';</div>

            <ol start="2">
                <li>Initialize the SDK with your merchant credentials:</li>
            </ol>
            <div class="code-block js">const data = {
  environment: 'sandbox', // 'sandbox' | 'qa' | 'dev' | 'production'
  logoUrl: 'https://your-logo-url.com/logo.png',
  returnUrl: 'https://your-return-url.com',
  webhookUrl: 'https://your-webhook-url.com',
  merchantKey: 'YOUR_MERCHANT_KEY',
  merchantToken: 'YOUR_MERCHANT_TOKEN',
};</div>
        </section>

        <section id="configuration">
            <h2>Configuration</h2>
            <h3>Required Configuration</h3>
            <ul>
                <li><strong>environment</strong>: SDK environment ('sandbox', 'qa', 'dev', or 'production')</li>
                <li><strong>logoUrl</strong>: Your merchant logo URL</li>
                <li><strong>returnUrl</strong>: URL to redirect users after payment completion</li>
                <li><strong>webhookUrl</strong>: URL to receive payment notifications</li>
                <li><strong>merchantKey</strong>: Your merchant key provided by PAYable</li>
                <li><strong>merchantToken</strong>: Your merchant token provided by PAYable</li>
            </ul>
        </section>

        <section id="one-time-payments">
            <h2>One-Time Payments</h2>

            <h3>Flow Diagram</h3>
            <div class="flow-diagram">
                <ol>
                    <li>Initialize payment with required parameters</li>
                    <li>Generate checksum value</li>
                    <li>Present payment screen to user</li>
                    <li>Process payment</li>
                    <li>Handle payment completion/error</li>
                </ol>
            </div>

            <h3>Required Parameters</h3>
            <div class="code-block js">const paymentData = {
  paymentType: "1", // 1 for one-time payment
  invoiceId: "INV123456", // Unique invoice ID
  amount: "100.00", // Payment amount with 2 decimal places
  currencyCode: "LKR", // Currency code
  orderDescription: "Payment for order #123",
  customerFirstName: "John",
  customerLastName: "Doe",
  customerMobilePhone: "0771234567",
  customerEmail: "john.doe@example.com",
  billingAddressStreet: "123 Main St",
  billingAddressCity: "Colombo",
  billingAddressCountry: "LKA",
  checkValue: "GENERATED_CHECKSUM" // Generated using getCheckValue()
};</div>

            <h3>Checksum Generation</h3>
            <p>The checksum is generated using SHA-512 hashing algorithm. Here's the process:</p>
            <div class="code-block js">import CryptoJS from 'crypto-js';

const getCheckValue = (
  merchantKey: string,
  merchantToken: string,
  invoiceId: string,
  amount: string,
  currencyCode: string
) => {
  // Step 1: Generate hash from merchant token
  const hash1 = CryptoJS.SHA512(merchantToken)
    .toString(CryptoJS.enc.Hex)
    .toUpperCase();

  // Step 2: Generate final checksum
  const checkValue = CryptoJS.SHA512(
    `${merchantKey}|${invoiceId}|${amount}|${currencyCode}|${hash1}`
  )
    .toString(CryptoJS.enc.Hex)
    .toUpperCase();

  return checkValue;
};</div>

            <h3>Payment Completion Response</h3>
            <div class="code-block json">{
  merchantKey: "YOUR_MERCHANT_KEY",
  payableOrderId: "oid-XXXXXXXX-XXX-XXXX-XXXX-XXXX",
  payableTransactionId: "XXXXXXXX-XXX-XXXX-XXXX-XXXXXXXXX",
  payableAmount: "100.00",
  payableCurrency: "LKR",
  invoiceNo: "INV123456",
  statusCode: 1,
  statusMessage: "SUCCESS",
  paymentType: 1,
  paymentMethod: 1,
  paymentScheme: "MASTERCARD",
  custom1: "optional data",
  custom2: "optional data",
  cardHolderName: "John Doe",
  cardNumber: "512345xxxxxx0008",
  checkValue: "GENERATED_CHECKSUM"
}</div>

            <h3>React Native Integration Example (One-Time Payment)</h3>
            <div class="code-block tsx">import React, { useMemo, useState } from 'react';
import { View, Button, Alert } from 'react-native';
import PayableIPG from 'ipg-reactnative-sdk';
import CryptoJS from 'crypto-js';

const getCheckValue = (
  merchantKey: string,
  merchantToken: string,
  invoiceId: string,
  amount: string,
  currencyCode: string
) => {
  const hash1 = CryptoJS.SHA512(merchantToken)
    .toString(CryptoJS.enc.Hex)
    .toUpperCase();

  return CryptoJS.SHA512(
    `${merchantKey}|${invoiceId}|${amount}|${currencyCode}|${hash1}`
  )
    .toString(CryptoJS.enc.Hex)
    .toUpperCase();
};

export default function OneTimePaymentExample() {
  const [showIpg, setShowIpg] = useState(false);

  const PAYableIPGClient = useMemo(
    () => ({
      environment: 'sandbox', // 'sandbox' | 'qa' | 'dev' | 'production'
      logoUrl: 'https://your-logo-url.com/logo.png',
      returnUrl: 'https://your-return-url.com',
      webhookUrl: 'https://your-webhook-url.com',
      merchantKey: 'YOUR_MERCHANT_KEY',
      merchantToken: 'YOUR_MERCHANT_TOKEN',
    }),
    []
  );

  const payment = useMemo(() => {
    const amount = '100.00';
    const invoiceId = `INV-${Date.now()}`;
    const currencyCode = 'LKR';

    return {
      paymentType: '1',
      invoiceId,
      amount,
      currencyCode,
      orderDescription: 'Payment for order #123',
      customerFirstName: 'John',
      customerLastName: 'Doe',
      customerMobilePhone: '0771234567',
      customerEmail: 'john.doe@example.com',
      billingAddressStreet: '123 Main St',
      billingAddressCity: 'Colombo',
      billingAddressCountry: 'LKA',
      checkValue: getCheckValue(
        PAYableIPGClient.merchantKey,
        PAYableIPGClient.merchantToken,
        invoiceId,
        amount,
        currencyCode
      ),
    };
  }, [PAYableIPGClient]);

  const handlePaymentStarted = () => {
    // Optional: track analytics
  };

  const handlePaymentCompleted = (result: any) => {
    setShowIpg(false);
    Alert.alert('Payment Success', JSON.stringify(result, null, 2));
  };

  const handlePaymentError = (error: any) => {
    setShowIpg(false);
    Alert.alert('Payment Error', JSON.stringify(error, null, 2));
  };

  const handlePaymentCancelled = () => {
    setShowIpg(false);
  };

  return (
    &lt;View style={{ flex: 1 }}>
      {!showIpg && (
        &lt;Button title="Pay LKR 100.00" onPress={() => setShowIpg(true)} />
      )}

      {showIpg && (
        &lt;PayableIPG
          PAYableIPGClient={PAYableIPGClient}
          packageName={"com.yourapp"}
          paymentType={payment.paymentType}
          invoiceId={payment.invoiceId}
          amount={payment.amount}
          currencyCode={payment.currencyCode}
          orderDescription={payment.orderDescription}
          customerFirstName={payment.customerFirstName}
          customerLastName={payment.customerLastName}
          customerMobilePhone={payment.customerMobilePhone}
          customerEmail={payment.customerEmail}
          billingAddressStreet={payment.billingAddressStreet}
          billingAddressCity={payment.billingAddressCity}
          billingAddressCountry={payment.billingAddressCountry}
          checkValue={payment.checkValue}
          onPaymentStarted={handlePaymentStarted}
          onPaymentCompleted={handlePaymentCompleted}
          onPaymentError={handlePaymentError}
          onPaymentCancelled={handlePaymentCancelled}
        />
      )}
    &lt;/View>
  );
}</div>
        </section>

        <section id="recurring-payments">
            <h2>Recurring Payments</h2>

            <h3>Flow Overview</h3>
            <div class="flow-diagram">
                <ol>
                    <li>Initialize recurring payment with required parameters</li>
                    <li>Generate checksum value</li>
                    <li>Present payment screen to user</li>
                    <li>Process initial payment</li>
                    <li>Set up recurring schedule</li>
                    <li>Handle recurring payments</li>
                </ol>
            </div>

            <h3>Required Parameters</h3>
            <div class="code-block js">const recurringPaymentData = {
  paymentType: "2", // 2 for recurring payment
  invoiceId: "INV123456",
  amount: "100.00",
  currencyCode: "LKR",
  orderDescription: "Monthly subscription",
  customerFirstName: "John",
  customerLastName: "Doe",
  customerMobilePhone: "0771234567",
  customerEmail: "john.doe@example.com",
  billingAddressStreet: "123 Main St",
  billingAddressCity: "Colombo",
  billingAddressCountry: "LKA",
  startDate: "2024-01-01",
  endDate: "2024-12-31", // or "FOREVER"
  recurringAmount: "100.00",
  interval: "MONTHLY", // or "ANNUALLY"
  isRetry: "1", // 1 for true, 0 for false
  retryAttempts: "3",
  doFirstPayment: "1", // 1 for true, 0 for false
  checkValue: "GENERATED_CHECKSUM"
};</div>

            <h3>Checksum Generation for Recurring Payments</h3>
            <div class="code-block js">const getRecurringCheckValue = (
  merchantKey: string,
  merchantToken: string,
  invoiceId: string,
  amount: string,
  currencyCode: string,
  customerRefNo: string
) => {
  const hash1 = CryptoJS.SHA512(merchantToken)
    .toString(CryptoJS.enc.Hex)
    .toUpperCase();

  const checkValue = CryptoJS.SHA512(
    `${merchantKey}|${invoiceId}|${amount}|${currencyCode}|${customerRefNo}|${hash1}`
  )
    .toString(CryptoJS.enc.Hex)
    .toUpperCase();

  return checkValue;
};</div>
        </section>

        <section id="tokenized-payments">
            <h2>Tokenized Payments</h2>

            <h3>Overview</h3>
            <p>Tokenized payments allow merchants to securely store customer payment information for future use. This feature enhances the customer experience by eliminating the need to re-enter payment details for subsequent transactions while maintaining the highest security standards.</p>

            <h3>Required Parameters for Tokenized Payment</h3>
            <div class="code-block js">const tokenPaymentData = {
  paymentType: "3", // 3 for tokenized payment
  invoiceId: "INV123456",
  amount: "100.00",
  currencyCode: "LKR",
  orderDescription: "Token creation payment",
  customerFirstName: "John",
  customerLastName: "Doe",
  customerMobilePhone: "0771234567",
  customerEmail: "john.doe@example.com",
  billingAddressStreet: "123 Main St",
  billingAddressCity: "Colombo",
  billingAddressCountry: "LKA",
  isSaveCard: "1", // 1 to save card for future use
  customerRefNo: "CUST123456", // Unique customer reference
  checkValue: "GENERATED_CHECKSUM"
};</div>

            <h3>Checksum Generation for Token Payments</h3>
            <div class="code-block js">const getTokenCheckValue = (
  merchantKey: string,
  merchantToken: string,
  invoiceId: string,
  amount: string,
  currencyCode: string,
  customerRefNo: string,
  tokenId?: string
) => {
  const hash1 = CryptoJS.SHA512(merchantToken)
    .toString(CryptoJS.enc.Hex)
    .toUpperCase();

  const checkValue = CryptoJS.SHA512(
    `${merchantKey}|${invoiceId}|${amount}|${currencyCode}|${customerRefNo}|${tokenId || ''}|${hash1}`
  )
    .toString(CryptoJS.enc.Hex)
    .toUpperCase();

  return checkValue;
};</div>

            <h3>Authentication Headers</h3>
            <div class="code-block json">{
  'Authorization': 'Bearer YOUR_ACCESS_TOKEN',
  'Content-Type': 'application/json',
  'X-Merchant-Key': 'YOUR_MERCHANT_KEY'
}</div>

            <h3>API Endpoints</h3>


            <h4>Token Usage</h4>
            <div class="api-endpoint">
                <div class="endpoint-method">POST /api/v1/payments/token</div>
                <div class="code-block json">Content-Type: application/json

Request Body:
{
  "merchantKey": "YOUR_MERCHANT_KEY",
  "invoiceId": "INV123456",
  "amount": "100.00",
  "currencyCode": "LKR",
  "tokenId": "TOKEN123456",
  "customerRefNo": "CUST123456",
  "checkValue": "GENERATED_CHECKSUM"
}

Response:
{
  "status": "SUCCESS",
  "transactionId": "TXN123456",
  "amount": "100.00",
  "currency": "LKR"
}</div>
            </div>

            <h4>1. List Saved Cards</h4>
            <p>Retrieve all saved cards for a customer.</p>
            <div class="api-endpoint">
                <div class="endpoint-method">POST {{rootUrl}}/ipg/v2/tokenize/listCard</div>
                <strong>Headers Required:</strong>
                <div class="code-block">Content-Type: application/json</div>
                <strong>Required Parameters:</strong>
                <ul>
                    <li><code>merchantId</code> - Your merchant ID</li>
                    <li><code>customerId</code> - Customer ID</li>
                    <li><code>checkValue</code> - Security hash</li>
                </ul>
                <strong>CheckValue Generation:</strong>
                <div class="code-block">SHA512(merchantId|customerId|SHA512(merchantToken))</div>
            </div>

            <h4>2. Delete Saved Card</h4>
            <p>Remove a saved card from customer's account.</p>
            <div class="api-endpoint">
                <div class="endpoint-method">POST {{rootUrl}}/ipg/v2/tokenize/deleteCard</div>
                <strong>Headers Required:</strong>
                <div class="code-block">Content-Type: application/json
Authorization: Bearer {access_token}</div>
                <strong>Required Parameters:</strong>
                <ul>
                    <li><code>merchantId</code> - Your merchant ID</li>
                    <li><code>customerId</code> - Customer ID</li>
                    <li><code>tokenId</code> - Token ID to delete</li>
                    <li><code>checkValue</code> - Security hash</li>
                </ul>
                <strong>CheckValue Generation:</strong>
                <div class="code-block">SHA512(merchantId|customerId|tokenId|SHA512(merchantToken))</div>
            </div>

            <h4>3. Edit Saved Card</h4>
            <p>Update card nickname or set as default card.</p>
            <div class="api-endpoint">
                <div class="endpoint-method">POST {{rootUrl}}/ipg/v2/tokenize/editCard</div>
                <strong>Headers Required:</strong>
                <div class="code-block">Content-Type: application/json
Authorization: Bearer {access_token}</div>
                <strong>How to Generate JWT Access Token:</strong>
                <ol>
                    <li>Create Basic Auth token: <code>base64(businessKey:businessToken)</code></li>
                    <li>POST to <code>{{rootUrl}}/ipg/v2/auth/tokenize</code> with headers:
                        <div class="code-block">Content-Type: application/json
Authorization: {basicAuthToken}</div>
                        Body: <code>{"grant_type": "client_credentials"}</code></li>
                    <li>Extract <code>accessToken</code> from response and use in Authorization header</li>
                </ol>
                <strong>Required Parameters:</strong>
                <ul>
                    <li><code>merchantId</code> - Your merchant ID</li>
                    <li><code>customerId</code> - Customer ID</li>
                    <li><code>tokenId</code> - Token ID to edit</li>
                    <li><code>nickName</code> - Optional nickname for the card</li>
                    <li><code>isDefaultCard</code> - Set as default card (0 or 1)</li>
                    <li><code>checkValue</code> - Security hash</li>
                </ul>
            </div>

            <h4>4. Pay with Saved Card</h4>
            <p>Process payment using a previously saved card token.</p>
            <div class="api-endpoint">
                <div class="endpoint-method">POST {{rootUrl}}/ipg/v2/tokenize/pay</div>
                <strong>Headers Required:</strong>
                <div class="code-block">Content-Type: application/json
Authorization: Bearer {access_token}</div>
                <strong>How to Generate Access Token:</strong>
                <ol>
                    <li>Create Basic Auth token: <code>base64(businessKey:businessToken)</code></li>
                    <li>POST to <code>{{rootUrl}}/ipg/v2/auth/tokenize</code> with headers:
                        <div class="code-block">Content-Type: application/json
Authorization: {basicAuthToken}</div>
                        Body: <code>{"grant_type": "client_credentials"}</code></li>
                    <li>Extract <code>accessToken</code> from response and use in Authorization header</li>
                </ol>
                <strong>Required Parameters:</strong>
                <ul>
                    <li><code>merchantId</code> - Your merchant ID</li>
                    <li><code>customerId</code> - Customer ID</li>
                    <li><code>tokenId</code> - Token ID to use for payment</li>
                    <li><code>invoiceId</code> - Invoice ID</li>
                    <li><code>amount</code> - Payment amount</li>
                    <li><code>currencyCode</code> - Currency code</li>
                    <li><code>checkValue</code> - Security hash</li>
                    <li><code>webhookUrl</code> - Webhook URL for notifications</li>
                </ul>
                <strong>CheckValue Generation:</strong>
                <div class="code-block">SHA512(merchantId|invoiceId|amount|currencyCode|customerId|tokenId|SHA512(merchantToken))</div>
            </div>
        </section>

        <section id="merchant-notifications">
            <h2>Merchant Notifications</h2>

            <h3>Webhook Setup</h3>
            <ol>
                <li>Configure your webhook endpoint in the SDK initialization</li>
                <li>Implement webhook handler to process notifications</li>
                <li>Validate incoming notifications using checksum</li>
            </ol>

            <h3>Webhook Payload Structure</h3>
            <div class="code-block json">{
  merchantKey: "YOUR_MERCHANT_KEY",
  payableOrderId: "oid-XXXXXXXX-XXX-XXXX-XXXX-XXXX",
  payableTransactionId: "XXXXXXXX-XXX-XXXX-XXXX-XXXXXXXXX",
  payableAmount: "100.00",
  payableCurrency: "LKR",
  invoiceNo: "INV123456",
  statusCode: 1,
  statusMessage: "SUCCESS",
  paymentType: 1,
  paymentMethod: 1,
  paymentScheme: "MASTERCARD",
  custom1: "optional data",
  custom2: "optional data",
  cardHolderName: "John Doe",
  cardNumber: "512345xxxxxx0008",
  checkValue: "GENERATED_CHECKSUM"
}</div>

            <h3>Webhook Response</h3>
            <div class="code-block json">{
  "Status": 200
}</div>
        </section>

        <section id="error-handling">
            <h2>Error Handling</h2>

            <h3>Common Error Codes</h3>
            <ul>
                <li><strong>3009</strong>: Field validation error</li>
                <li><strong>400</strong>: Bad request</li>
                <li><strong>500</strong>: Server error</li>
            </ul>

            <h3>Error Response Format</h3>
            <div class="code-block json">{
  status: 3009,
  success: false,
  error: {
    fieldName: ["Error message"]
  }
}</div>
        </section>

        <section id="security">
            <h2>Security & Compliance</h2>

            <h3>Important Security Notes</h3>
            <ul>
                <li><strong>merchantToken</strong> is a <strong>secret</strong> shared by PAYable for your merchant</li>
                <li>Use exact field order and string concatenation with <code>|</code> as the delimiter</li>
                <li>Always validate webhook responses using checkValue</li>
                <li>Store tokens securely in your database</li>
                <li>Use HTTPS for all communications</li>
                <li>Never expose your merchantToken in client-side code</li>
            </ul>

            <h3>CheckValue Validation</h3>
            <div class="code-block js">// Validate webhook response
function validateWebhook(webhookData, merchantToken) {
  const calculatedCheckValue = CryptoJS.SHA512(
    webhookData.merchantKey +
      "|" +
      webhookData.payableOrderId +
      "|" +
      webhookData.payableTransactionId +
      "|" +
      webhookData.payableAmount +
      "|" +
      webhookData.payableCurrency +
      "|" +
      webhookData.invoiceNo +
      "|" +
      webhookData.statusCode +
      "|" +
      CryptoJS.SHA512(merchantToken).toString().toUpperCase()
  )
    .toString()
    .toUpperCase();

  return calculatedCheckValue === webhookData.checkValue;
}</div>
        </section>

        <section id="api-usage">
            <h2>API Usage</h2>

            <h3>Environment Configuration</h3>
            <ul>
                <li><strong>Sandbox Environment</strong>: Used for testing and development
                    <ul>
                        <li>Environment: <code>'sandbox'</code></li>
                        <li>Used for testing payment flows without real transactions</li>
                    </ul>
                </li>
                <li><strong>QA Environment</strong>: Quality assurance testing
                    <ul>
                        <li>Environment: <code>'qa'</code></li>
                        <li>Used for pre-production testing</li>
                    </ul>
                </li>
                <li><strong>Development Environment</strong>: Local development
                    <ul>
                        <li>Environment: <code>'dev'</code></li>
                        <li>Used during development phase</li>
                    </ul>
                </li>
                <li><strong>Production Environment</strong>: Live transactions
                    <ul>
                        <li>Environment: <code>'production'</code></li>
                        <li>Used for live customer payments</li>
                    </ul>
                </li>
            </ul>

            <h3>Payment Types</h3>
            <ul>
                <li><strong>One-Time Payment (Type: 1)</strong>: Single transaction payment</li>
                <li><strong>Recurring Payment (Type: 2)</strong>: Subscription-based payments</li>
                <li><strong>Tokenized Payment (Type: 3)</strong>: Save card for future payments</li>
            </ul>
        </section>

        <section id="testing">
            <h2>Testing</h2>

            <h3>Test Environment Setup</h3>
            <p>Use the sandbox environment for testing your integration:</p>
            <div class="code-block js">const data = {
  environment: 'sandbox', // Always use 'sandbox' for testing
  logoUrl: 'https://your-logo-url.com/logo.png',
  returnUrl: 'https://your-return-url.com',
  webhookUrl: 'https://your-webhook-url.com',
  merchantKey: 'YOUR_SANDBOX_MERCHANT_KEY',
  merchantToken: 'YOUR_SANDBOX_MERCHANT_TOKEN',
};</div>

            <h3>Test Card Numbers</h3>
            <p>Use the following test card numbers for different scenarios:</p>
            <ul>
                <li><strong>Success Payment</strong>: 4111 1111 1111 1111</li>
                <li><strong>Failed Payment</strong>: 4000 0000 0000 0002</li>
                <li><strong>Insufficient Funds</strong>: 4000 0000 0000 9995</li>
                <li><strong>Card Declined</strong>: 4000 0000 0000 0069</li>
            </ul>

            <h3>Test Amounts</h3>
            <ul>
                <li><strong>Success</strong>: Any amount ‚â• 2.00</li>
                <li><strong>Failure</strong>: Any amount that triggers specific error conditions</li>
                <li><strong>Tokenization</strong>: Amount ‚â• 2.00 (or 0.00 if <code>doFirstPayment = false</code>)</li>
            </ul>

            <div class="highlight">
                <strong>Important:</strong> Never use real card numbers or merchant credentials in test environments. Always use the provided sandbox credentials and test card numbers.
            </div>
        </section>

        <section id="faqs">
            <h2>FAQs & Troubleshooting</h2>

            <h3>Frequently Asked Questions</h3>

            <h4>Q: How do I get my merchant credentials?</h4>
            <p>A: Contact PAYable support at +94 11 777 6 777 or visit <a href="https://www.payable.lk" target="_blank">https://www.payable.lk</a> to register and obtain your credentials.</p>

            <h4>Q: What currencies are supported?</h4>
            <p>A: Currently, only LKR (Sri Lankan Rupee) is supported for transactions.</p>

            <h4>Q: Can I test payments without real money?</h4>
            <p>A: Yes, use the sandbox environment with test card numbers provided in the Testing section.</p>

            <h4>Q: How do I handle failed payments?</h4>
            <p>A: Implement proper error handling using the <code>onPaymentError</code> callback. Check error codes in the Error Handling section.</p>

            <h4>Q: Are webhooks mandatory?</h4>
            <p>A: Yes, webhooks are essential for receiving payment confirmations and should be implemented for production use.</p>

            <h3>Common Issues & Solutions</h3>

            <h4>Issue: Checksum validation fails</h4>
            <p><strong>Solution:</strong> Ensure the exact field order and SHA-512 hashing. Check for extra spaces or incorrect merchant credentials.</p>

            <h4>Issue: Webhook not received</h4>
            <p><strong>Solution:</strong> Ensure your webhook URL is publicly accessible and can receive POST requests. Test with tools like ngrok for local development.</p>

            <h4>Issue: Payment screen not loading</h4>
            <p><strong>Solution:</strong> Verify all required parameters are provided and merchant credentials are correct. Check console for JavaScript errors.</p>

            <h4>Issue: Tokenization not working</h4>
            <p><strong>Solution:</strong> Ensure <code>isSaveCard: "1"</code> and valid <code>customerRefNo</code>. Check that amount meets minimum requirements.</p>
        </section>

        <section id="api-reference">
            <h2>API Reference</h2>

            <h3>PayableIPG Component</h3>
            <div class="code-block js">&lt;PayableIPG
  PAYableIPGClient={data}
  packageName={packageName}
  paymentType={paymentType}
  invoiceId={invoiceId}
  amount={amount}
  currencyCode={currencyCode}
  orderDescription={orderDescription}
  // ... other props
  onPaymentStarted={handlePaymentStarted}
  onPaymentCompleted={handlePaymentCompleted}
  onPaymentError={handlePaymentError}
  onPaymentCancelled={handlePaymentCancelled}
/&gt;</div>

            <h3>Event Handlers</h3>
            <ul>
                <li><code>onPaymentStarted</code>: Called when payment process begins</li>
                <li><code>onPaymentCompleted</code>: Called when payment is successful</li>
                <li><code>onPaymentError</code>: Called when payment fails</li>
                <li><code>onPaymentCancelled</code>: Called when user cancels payment</li>
            </ul>
        </section>

            <div class="support-info">
                <h3>Support</h3>
                <p>üìû Support: +94 11 777 6 777</p>
                <p>üåê Website: <a href="https://www.payable.lk" style="color: white; text-decoration: underline;">https://www.payable.lk</a></p>
            </div>
        </div>

        <div id="react-js-content" class="content-section">
            <div class="toc">
                <h2>Table of Contents</h2>
                <ul>
                    <li><a href="#react-js-implementation">Implementation</a></li>
                    <li><a href="#react-js-checkvalue">CheckValue Generation</a></li>
                    <li><a href="#react-js-tokenization">Additional Tokenization Features</a></li>
                    <li><a href="#react-js-notifications">Payment Notifications</a></li>
                    <li><a href="#react-js-error-handling">Error Handling</a></li>
                    <li><a href="#react-js-integration">React.js Integration</a></li>
                    <li><a href="#react-js-core-functions">Core Functions</a></li>
                    <li><a href="#react-js-security">Security</a></li>
                    <li><a href="#react-js-support">Support</a></li>
                    <li><a href="#react-js-license">License</a></li>
                </ul>
            </div>

            <section id="react-js-implementation">
                <h2>Implementation</h2>

                <h3>Version Information</h3>
                <div class="highlight">
                    <strong>Current Version: V4 - v4.1.3</strong>
                </div>

                <h3>Credentials Required</h3>
                <ul>
                    <li><strong>Merchant Key</strong> - Provided by PAYable</li>
                    <li><strong>Merchant Token</strong> - Provided by PAYable</li>
                    <li><strong>Business Key</strong> - Provided by PAYable</li>
                    <li><strong>Business Token</strong> - Provided by PAYable</li>
                </ul>

                <h3>Payment Gateway Overview</h3>
                <p>You can simply use an HTML Form to submit the below params to Payable Payment Gateway. When your customer clicks on the payment/checkout button, It will be redirected to the Payable Payment Gateway. The Customer can confirm the payment by clicking on the 'continue' button. Then your customer will be securely redirected to the commercial bank Payment Gateway and the customer can then enter the credentials (Card No / Cardholder name / CVV ) and process the payment there. Once the payment is made, The payable payment gateway will show the payment status to your customer and send the receipt to your customer's email. <strong>Additionally, the card will be tokenized and saved for future use.</strong></p>

                <h3>Installation</h3>
                <div class="code-block sh">npm i payable-ipg-js</div>

                <h3>Import</h3>
                <div class="code-block js">import { payablePayment } from "payable-ipg-js";</div>

                <h3>Create Your Payment Request</h3>
                <p>Create your payment request with basic required fields.</p>

                <h4>Required Form Parameters</h4>
                <ul>
                    <li><code>notifyUrl</code> - URL to callback the status of the payment (Needs to be a URL accessible on a public IP/domain)</li>
                    <li><code>returnUrl</code> - URL to redirect users when success</li>
                    <li><code>logoUrl</code> - Logo url to show the logo in SDK</li>
                    <li><code>merchantKey</code> - Payable Merchant ID [Given by PAYable]</li>
                    <li><code>currencyCode</code> - Currency Code (LKR/EUR/GBP/USD)</li>
                    <li><code>checkValue</code> - Generated hash value to ensure extra security</li>
                    <li><code>orderDescription</code> - Small Description for the Order</li>
                    <li><code>amount</code> - Total Payment Amount</li>
                    <li><code>invoiceId</code> - Invoice ID generated by the merchant</li>
                    <li><code>paymentType</code> - Payment Type (1 means ONE_TIME_PAYMENT, 2 means RECURRING_PAYMENT, 3 means TOKENIZE_PAYMENT)</li>
                    <li><code>customerFirstName</code> - Customer's First Name</li>
                    <li><code>customerLastName</code> - Customer's Last Name</li>
                    <li><code>customerMobilePhone</code> - Customer's Mobile No</li>
                    <li><code>customerEmail</code> - Customer's Email</li>
                    <li><code>billingAddressStreet</code> - Billing Address Line1</li>
                    <li><code>billingAddressCity</code> - Billing City</li>
                    <li><code>billingAddressCountry</code> - Billing Country</li>
                </ul>

                <h4>Tokenization Parameters (Required for Card Tokenization || paymentType = 3)</h4>
                <ul>
                    <li><code>isSaveCard</code> - Set to "1" to save card for future use</li>
                    <li><code>doFirstPayment</code> - Set to "1" to charge immediately</li>
                    <li><code>customerRefNo</code> - Customer reference number for tokenization</li>
                </ul>

                <h4>Payment Type Parameters (Required if paymentType = 2)</h4>
                <ul>
                    <li><code>startDate</code> - Payment Start Date</li>
                    <li><code>endDate</code> - Payment End Date (It can be any date or FOREVER)</li>
                    <li><code>recurringAmount</code> - Recurring payment Amount</li>
                    <li><code>interval</code> - Payment Interval (It can be MONTHLY, ANNUALLY)</li>
                    <li><code>isRetry</code> - Is Retry</li>
                    <li><code>retryAttempts</code> - Retry Attempts</li>
                </ul>

                <h4>Optional Form Parameters</h4>
                <ul>
                    <li><code>custom1</code> - Merchant specific data, a Custom 1</li>
                    <li><code>custom2</code> - Merchant specific data, a Custom 2</li>
                    <li><code>customerPhone</code> - Customer's Phone No</li>
                    <li><code>billingAddressStreet2</code> - Billing Address Line2</li>
                    <li><code>billingCompanyName</code> - Billing Company</li>
                    <li><code>billingAddressPostcodeZip</code> - Billing Postal Code</li>
                    <li><code>billingAddressStateProvince</code> - Billing Province</li>
                    <li><code>shippingContactFirstName</code> - Shipping Contact First Name</li>
                    <li><code>shippingContactLastName</code> - Shipping Contact Last Name</li>
                    <li><code>shippingContactMobilePhone</code> - Shipping Contact Mobile No</li>
                    <li><code>shippingContactPhone</code> - Shipping Contact Phone No</li>
                    <li><code>shippingContactEmail</code> - Shipping Contact Email</li>
                    <li><code>shippingCompanyName</code> - Shipping Contact Company</li>
                    <li><code>shippingAddressStreet</code> - Shipping Address Line1</li>
                    <li><code>shippingAddressStreet2</code> - Shipping Address Line2</li>
                    <li><code>shippingAddressCity</code> - Shipping City</li>
                    <li><code>shippingAddressStateProvince</code> - Shipping Province</li>
                    <li><code>shippingAddressCountry</code> - Shipping Country (LKA)</li>
                    <li><code>shippingAddressPostcodeZip</code> - Shipping Postal Code</li>
                </ul>

                <div class="highlight">
                    <strong>Important:</strong> In Request, <code>checkValue</code> is a combination of merchant key, invoice id, amount, currency parameter set in a predefined sequence given by PAYable which then encrypted with merchant token (a unique Secret value for the Merchant which was shared by PAYable) using SHA-512.
                </div>

                <div class="highlight">
                    <strong>Important:</strong> The checkValue generation format is different for regular one-time payments vs tokenize payments.
                </div>

                <h4>Sample Form with Tokenization</h4>
                <div class="code-block js">const payment = {
  checkValue: "Your Check Value", // Use getCheckValueToken() for tokenization
  orderDescription: "Payment for furni",
  invoiceId: "INVGl2lrQHEEm",
  logoUrl: "https://ipgv2-comm.payable.lk/images/chocolate2.png",
  notifyUrl: "https://yoursite.com/v1/webhook/payment",
  returnUrl: "https://yoursite.com/receipt",
  merchantKey: "F4D847FB8BF0EF52",
  customerFirstName: "John",
  customerLastName: "Doe",
  customerMobilePhone: "0715117264",
  customerPhone: "1232131233",
  customerEmail: "john.doe@example.com",
  billingCompanyName: "Example Company",
  billingAddressStreet: "123 Main Street",
  billingAddressStreet2: "Apt 1",
  billingAddressCity: "Colombo",
  billingAddressStateProvince: "Western",
  billingAddressCountry: "LK",
  billingAddressPostcodeZip: "10000",
  amount: "100.00",
  currencyCode: "LKR",
  paymentType: "1",
  isSaveCard: "1", // Save card for future use
  customerRefNo: "CUST_123456789", // Customer reference for tokenization
  doFirstPayment: "1", // Charge immediately
};</div>

                <div class="highlight">
                    <strong>Note:</strong> Amount validation rules:
                    <ul style="margin-top: 10px;">
                        <li><strong>amount</strong>: Must be ‚â• 2.00 (standard validation applies)</li>
                        <li>If <code>isSaveCard = 1</code> and <code>doFirstPayment = 0</code>: Can be 0.00 (tokenize only)</li>
                        <li>Otherwise: Must be ‚â• 2.00</li>
                    </ul>
                </div>

                <h3>Communicate with PAYable React.js SDK</h3>
                <p>Submit your form json data into <code>payablePayment()</code>. <code>payment</code> is the payment object and <code>testMode</code> is boolean.</p>

                <div class="code-block js">payablePayment(payment, testMode);</div>

                <h4>Environment Configuration</h4>
                <ul>
                    <li><strong>Test Mode (<code>testMode = true</code>)</strong>: Connects to Sandbox environment for testing</li>
                    <li><strong>Live Mode (<code>testMode = false</code>)</strong>: Connects to Production environment for live payments</li>
                </ul>

                <h4>Example</h4>
                <div class="code-block js">// For testing (Sandbox)
payablePayment(payment, true);

// For live payments (Production)
payablePayment(payment, false);</div>

                <h3>Payment Flow</h3>
                <p>The Payable Tokenize Payment Gateway Integration allows customers to securely save their card information for future payments. When a customer clicks the payment/checkout button, they are redirected to the Payable Payment Gateway where they can enter their card credentials.</p>
            </section>

            <section id="react-js-error-handling">
                <h2>Payment Error Details</h2>

                <p>Error will be field validation (code: 3009) and other common errors.</p>

                <h3>Field Validation Error</h3>
                <div class="code-block json">{
  "status": 3009,
  "success": false,
  "error": {
    "startDate": ["Start date should be today date."]
  }
}</div>

                <h3>Other Common Errors</h3>
                <p>Status can be 400/500/any other:</p>
                <div class="code-block json">{
  "status": 400,
  "success": false,
  "error": "Something went wrong. Please contact your merchant."
}</div>
            </section>

            <section id="react-js-checkvalue">
                <h2>CheckValue Generation</h2>

                <h3>For Regular One-Time Payments</h3>
                <p>Format: <code>UPPERCASE(SHA512[merchantKey|invoiceId|amount|currencyCode|UPPERCASE(SHA512[merchantToken])])</code></p>
                <div class="code-block js">const CryptoJS = require("crypto-js");

function getCheckValue(
  merchant_key,
  invoice_id,
  amount,
  currency,
  merchant_token
) {
  // Step 1: Hash the merchant token
  const mToken = CryptoJS.SHA512(merchant_token).toString().toUpperCase();

  // Step 2: Create the value string
  const txt =
    merchant_key +
    "|" +
    invoice_id +
    "|" +
    amount +
    "|" +
    currency +
    "|" +
    mToken;

  // Step 3: Hash the entire value string
  const checkValue = CryptoJS.SHA512(txt).toString().toUpperCase();
  return checkValue;
}</div>

                <h3>For Tokenize Payments</h3>
                <p>Format: <code>UPPERCASE(SHA512[merchantKey|invoiceId|amount|currencyCode|customerRefNo|UPPERCASE(SHA512[merchantToken])])</code></p>
                <div class="code-block js">function getCheckValueToken(
  merchant_key,
  invoice_id,
  amount,
  currency,
  customer_ref_no,
  merchant_token
) {
  // Step 1: Hash the merchant token
  const mToken = CryptoJS.SHA512(merchant_token).toString().toUpperCase();

  // Step 2: Create the value string (includes customerRefNo for tokenization)
  const txt =
    merchant_key +
    "|" +
    invoice_id +
    "|" +
    amount +
    "|" +
    currency +
    "|" +
    customer_ref_no +
    "|" +
    mToken;

  // Step 3: Hash the entire value string
  const checkValue = CryptoJS.SHA512(txt).toString().toUpperCase();
  return checkValue;
}</div>
            </section>

            <section id="react-js-tokenization">
                <h2>Additional Tokenization Features</h2>

                <h3>Environment URLs</h3>
                <ul>
                    <li><strong>Live Root URL</strong>: <code>POST https://ipgpayment.payable.lk</code></li>
                    <li><strong>Sandbox Root URL</strong>: <code>POST https://sandboxipgpayment.payable.lk</code></li>
                </ul>

                <h3>API Endpoints</h3>

                <h4>List Saved Cards</h4>
                <div class="api-endpoint">
                    <div class="endpoint-method">POST {{rootUrl}}/ipg/v2/tokenize/listCard</div>
                    <p>Retrieve all saved cards for a customer.</p>
                    <strong>Required Parameters:</strong>
                    <ul>
                        <li><code>merchantId</code> - Your merchant ID</li>
                        <li><code>customerId</code> - Customer ID</li>
                        <li><code>checkValue</code> - Security hash</li>
                    </ul>
                    <strong>CheckValue Generation:</strong>
                    <div class="code-block">SHA512(merchantId|customerId|SHA512(merchantToken))</div>
                </div>

                <h4>Delete Saved Card</h4>
                <div class="api-endpoint">
                    <div class="endpoint-method">POST {{rootUrl}}/ipg/v2/tokenize/deleteCard</div>
                    <p>Remove a saved card from customer's account.</p>
                    <strong>CheckValue Generation:</strong>
                    <div class="code-block">SHA512(merchantId|customerId|tokenId|SHA512(merchantToken))</div>
                </div>

                <h4>Pay with Saved Card</h4>
                <div class="api-endpoint">
                    <div class="endpoint-method">POST {{rootUrl}}/ipg/v2/tokenize/pay</div>
                    <p>Process payment using a previously saved card token.</p>
                    <strong>CheckValue Generation:</strong>
                    <div class="code-block">SHA512(merchantId|invoiceId|amount|currencyCode|customerId|tokenId|SHA512(merchantToken))</div>
                </div>
            </section>

            <section id="react-js-notifications">
                <h2>Payment Notifications</h2>

                <h3>Webhook Setup</h3>
                <p>Payable Payment Gateway sends payment status notifications to your <code>notifyUrl</code>. You need to implement a server endpoint to receive these notifications.</p>

                <h3>One-Time Payment Response</h3>
                <div class="code-block json">{
  "merchantKey": "YOUR_MERCHANT_KEY",
  "payableOrderId": "oid-XXXXXXXX-XXX-XXXX-XXXX-XXXX",
  "payableTransactionId": "XXXXXXXX-XXX-XXXX-XXXX-XXXXXXXXX",
  "payableAmount": "100.00",
  "payableCurrency": "LKR",
  "invoiceNo": "YOUR_INVOICE_ID",
  "statusCode": 1,
  "statusMessage": "SUCCESS",
  "paymentType": 1,
  "paymentMethod": 1,
  "paymentScheme": "MASTERCARD",
  "custom1": "YOUR_CUSTOM_1",
  "custom2": "YOUR_CUSTOM_2",
  "cardHolderName": "CARD_HOLDER_NAME",
  "cardNumber": "512345xxxxxx0008",
  "checkValue": "YOUR_CHECK_VALUE"
}</div>

                <h3>Tokenize Payment Response</h3>
                <div class="code-block json">{
  "merchantKey": "YOUR_MERCHANT_KEY",
  "statusCode": 1,
  "payableTransactionId": "XXXXXXXX-XXX-XXXX-XXXX-XXXXXXXXX",
  "paymentMethod": 1,
  "payableOrderId": "oid-XXXXXXXX-XXX-XXXX-XXXX-XXXX",
  "invoiceNo": "YOUR_INVOICE_ID",
  "payableAmount": "100.00",
  "payableCurrency": "LKR",
  "statusMessage": "SUCCESS",
  "paymentType": 1,
  "paymentScheme": "MASTERCARD",
  "cardHolderName": "CARD_HOLDER_NAME",
  "cardNumber": "512345xxxxxx0008",
  "paymentId": "YOUR_PAYMENT_ID",
  "custom1": null,
  "custom2": null,
  "checkValue": "YOUR_CHECK_VALUE",
  "customerRefNo": "YOUR_CUSTOMER_REF_NO",
  "token": {
    "tokenId": "YOUR_TOKEN_ID",
    "maskedCardNo": "512345xxxxxx0008",
    "exp": "MMYY",
    "reference": null,
    "nickname": null,
    "tokenStatus": "SUCCESS",
    "defaultCard": 0
  },
  "merchantId": "YOUR_MERCHANT_ID",
  "customerId": "YOUR_CUSTOMER_ID",
  "uid": "YOUR_UID",
  "statusIndicator": "YOUR_STATUS_INDICATOR"
}</div>
            </section>

            <section id="react-js-integration">
                <h2>React.js Integration Example</h2>
                <div class="code-block js">import React from "react";
import { payablePayment } from "payable-ipg-js";

const TokenizePayment = () => {
  const handlePayment = () => {
    const payment = {
      checkValue: "Your Check Value",
      orderDescription: "Payment for furni",
      invoiceId: "INVGl2lrQHEEm",
      logoUrl: "https://ipgv2-comm.payable.lk/images/chocolate2.png",
      notifyUrl: "https://yoursite.com/v1/webhook/payment",
      returnUrl: "https://yoursite.com/receipt",
      merchantKey: "F4D847FB8BF0EF52",
      customerFirstName: "John",
      customerLastName: "Doe",
      customerMobilePhone: "0715117264",
      customerPhone: "1232131233",
      customerEmail: "john@example.com",
      billingCompanyName: "Example Company",
      billingAddressStreet: "123 Main Street",
      billingAddressStreet2: "Apt 1",
      billingAddressCity: "Colombo",
      billingAddressStateProvince: "Western",
      billingAddressCountry: "LK",
      billingAddressPostcodeZip: "10000",
      amount: "100.00",
      currencyCode: "LKR",
      paymentType: "1", // One-time payment
      isSaveCard: "1", // Save card for future use
      customerRefNo: "CUST_123456789",
      doFirstPayment: "1", // Charge immediately
    };

    // Process payment with tokenization
    payablePayment(payment, true); // true = test mode (sandbox)
  };

  return (
    &lt;div&gt;
      &lt;h2&gt;Payment with Card Tokenization&lt;/h2&gt;
      &lt;button onClick={handlePayment}&gt;Pay &amp; Save Card&lt;/button&gt;
    &lt;/div&gt;
  );
};

export default TokenizePayment;</div>
            </section>

            <section id="react-js-security">
                <h2>Security</h2>

                <h3>Important Security Notes</h3>
                <ul>
                    <li><strong>merchantToken</strong> is a <strong>secret</strong> shared by PAYable for your merchant</li>
                    <li>Use exact field order and string concatenation with <code>|</code> as the delimiter</li>
                    <li>Always validate webhook responses using checkValue</li>
                    <li>Store tokens securely in your database</li>
                    <li>Use HTTPS for all communications</li>
                    <li>Never expose your merchantToken in client-side code</li>
                </ul>

                <h3>CheckValue Validation</h3>
                <p>Formula: <code>UPPERCASE(SHA512[merchantKey|payableOrderId|payableTransactionId|payableAmount|currencyCode|invoiceNo|statusCode|UPPERCASE(SHA512[merchantToken])])</code></p>
                <div class="code-block js">function validateWebhook(webhookData, merchantToken) {
  const calculatedCheckValue = CryptoJS.SHA512(
    webhookData.merchantKey +
      "|" +
      webhookData.payableOrderId +
      "|" +
      webhookData.payableTransactionId +
      "|" +
      webhookData.payableAmount +
      "|" +
      webhookData.payableCurrency +
      "|" +
      webhookData.invoiceNo +
      "|" +
      webhookData.statusCode +
      "|" +
      CryptoJS.SHA512(merchantToken).toString().toUpperCase()
  )
    .toString()
    .toUpperCase();

  return calculatedCheckValue === webhookData.checkValue;
}</div>
            </section>

            <section id="react-js-support">
                <h2>Support</h2>
                <ul>
                    <li><strong>Documentation</strong>: <a href="https://github.com/payable/ipg-sdk" target="_blank">PAYable Developer Docs</a></li>
                    <li><strong>Support</strong>: +94 11 777 6 777</li>
                    <li><strong>Website</strong>: <a href="https://www.payable.lk" target="_blank">https://www.payable.lk</a></li>
                </ul>
            </section>

            <section id="react-js-core-functions">
                <h2>Core Functions</h2>

                <h3>Main Function</h3>
                <div class="code-block js">// Main payment function
payablePayment(paymentObject, testMode);

// Parameters:
// paymentObject: Object containing all payment parameters
// testMode: Boolean - true for sandbox, false for production</div>

                <h3>Environment Modes</h3>
                <ul>
                    <li><strong>Test Mode (<code>testMode = true</code>)</strong>: Connects to sandbox environment for testing</li>
                    <li><strong>Live Mode (<code>testMode = false</code>)</strong>: Connects to production environment for real payments</li>
                </ul>

                <h3>Payment Flow</h3>
                <div class="flow-diagram">
                    <ol>
                        <li>Create payment object with required parameters</li>
                        <li>Generate checkValue using appropriate formula</li>
                        <li>Call payablePayment() function</li>
                        <li>User is redirected to payment gateway</li>
                        <li>Payment processing occurs</li>
                        <li>User returns to your application</li>
                        <li>Webhook notification sent to your server</li>
                    </ol>
                </div>
            </section>

            <section id="react-js-license">
                <h2>License</h2>
                <p>This tokenize payment React.js SDK is provided by PAYable (Pvt) Ltd.</p>

                <div class="highlight">
                    <strong>Important:</strong> This SDK is proprietary software provided by PAYable. Please ensure compliance with the terms of service and licensing agreements.
                </div>
            </section>

            <div class="support-info">
                <h3>Support</h3>
                <p>üìû Support: +94 11 777 6 777</p>
                <p>üåê Website: <a href="https://www.payable.lk" style="color: white; text-decoration: underline;">https://www.payable.lk</a></p>
            </div>
        </div>
    </div>

    <script>
        function showTab(tabName) {
            // Hide all headers
            document.getElementById('react-native-header').style.display = 'none';
            document.getElementById('react-js-header').style.display = 'none';

            // Remove active class from all tab buttons
            const tabButtons = document.querySelectorAll('.tab-button');
            tabButtons.forEach(button => button.classList.remove('active'));

            // Hide all content sections
            const contentSections = document.querySelectorAll('.content-section');
            contentSections.forEach(section => section.classList.remove('active'));

            if (tabName === 'react-native') {
                document.getElementById('react-native-header').style.display = 'block';
                document.getElementById('react-native-content').classList.add('active');
                document.querySelector('.tab-button:nth-child(1)').classList.add('active');
            } else if (tabName === 'react-js') {
                document.getElementById('react-js-header').style.display = 'block';
                document.getElementById('react-js-content').classList.add('active');
                document.querySelector('.tab-button:nth-child(2)').classList.add('active');
            }
        }

        // Initialize with React Native tab active
        document.addEventListener('DOMContentLoaded', function() {
            showTab('react-native');
        });
    </script>
</body>
</html>
